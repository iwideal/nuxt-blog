[
  {
    "slug": "Caddy使用教程",
    "title": "Caddy使用教程",
    "description": "Caddy Web服务器的安装、配置和使用指南",
    "date": "2024-09-02",
    "tags": [
      "Caddy",
      "服务器",
      "教程"
    ],
    "content": "\r\n# Caddy使用教程\r\n\r\n![](https://picgo.dalualex.com/202409025153.png)\r\n\r\nCaddy是一个开源、跨平台的Web服务器，支持HTTP/2的TLS加密和自动HTTPS。它还支持反向代理、自动HTTPS、WebSocket、Websockets等功能。\r\n重要的是，Caddy自带了一个内置的HTTP/2服务器，支持自动TLS，Caddy可以自动申请并续期Let's Encrypt的证书。对于繁琐的TLS配置，Caddy可以自动完成所有操作。\r\n并且不用担心云服务商的SSL证书到期问题。\r\n# 一、Ubuntu安装\r\n\r\n1、从[github](https://github.com/caddyserver/caddy/releases)上下载最新版本的Caddy。下载相应的版本。\r\n\r\n[https://github.com/caddyserver/caddy/releases](https://github.com/caddyserver/caddy/releases)\r\n\r\n2、上传到服务器，安装\r\n\r\n```bash\r\n#安装\r\ndpkg -i  caddy_2.7.6_linux_amd64.deb\r\n\r\n#卸载\r\ndpkg -r  caddy\r\n```\r\n\r\n3、安装完成后，校验是否成功。\r\n\r\n```bash\r\ncaddy version\r\n```\r\n\r\n# 二、Caddy常用命令\r\n\r\n```jsx\r\ncaddy adapt                             将配置文档适配为原生JSON\r\ncaddy build-info                        打印构建信息\r\ncaddy environ                           打印环境\r\ncaddy file-server                       一个简单但可用于生产的文件服务器\r\ncaddy fmt                               格式化一个 Caddyfile\r\ncaddy hash-password                     散列密码并输出 base64\r\ncaddy help                              查看 caddy 命令的帮助\r\ncaddy list-modules                      列出已安装的 Caddy 模块\r\ncaddy reload                            更改正在运行的 Caddy 进程的配置\r\ncaddy reverse-proxy                     一个简单但可用于生产的 HTTP(S) 反向代理\r\ncaddy run                               在前台启动 Caddy 进程\r\ncaddy start                             在后台启动 Caddy 进程\r\ncaddy stop                              停止正在运行的 Caddy 进程\r\ncaddy trust                             将证书安装到本地信任存储中\r\ncaddy untrust                           不信任来自本地信任存储的证书\r\ncaddy upgrade                           将 Caddy 升级到最新版本\r\ncaddy add-package                       将 Caddy 升级到最新版本，添加了额外的插件\r\ncaddy remove-package                    将 Caddy 升级到最新版本，删除了一些插件\r\ncaddy validate                          测试配置文件是否有效\r\ncaddy version                           打印版本\r\n```\r\n\r\n# 三、使用Caddyfile配置文件创建服务\r\n\r\n> **`在创建Caddyfile文件的目录下运行Caddy start命令，即可生效Caddyfile中的配置`**\r\n> \r\n\r\n1、创建一个文本文件Caddyfile（无后缀）\r\n\r\n2、文件中写入如下代码：\r\n\r\n```jsx\r\nlocalhost\r\n\r\nrespond \"Hello, world!\"\r\n```\r\n\r\n3、保存文件并在当前包含Caddyfile的目录下运行命令：\r\n\r\n```jsx\r\ncaddy start\r\n\r\n测试：\r\ncurl https://localhost\r\nHello, world!\r\n```\r\n\r\n4、查看caddy运行状态\r\n\r\n**`systemctl status caddy.service`**\r\n\r\n# 四、使用Caddyfile配置反向代理\r\n1、创建一个文本文件Caddyfile（无后缀），并写入如下代码：\r\n```jsx\r\ndalualex.com {\r\n  reverse_proxy  localhost:9999 {\r\n    header_up -Origin\r\n  }\r\n}\r\n\r\nportainer.dalualex.com {\r\n  reverse_proxy  localhost:9000 {\r\n    header_up -Origin\r\n  }\r\n}\r\n```\r\n2、保存文件并在当前包含Caddyfile的目录下运行命令：\r\n`caddy start`；如果未停止caddy服务，则先运行`caddy stop`暂停caddy服务器。\r\n\r\n# 五、生产环境配置\r\n在生产环境中，其配置与nginx类似，先将反向代理信息配置到配置文件中，然后启动服务，即可生效配置。\r\n> 生产环境切勿使用caddy命令方式（如：caddy start生效Caddyfile的配置），而是使用systemd管理caddy服务。\r\n\r\n- 编辑`/etc/caddy/Caddyfile`文件，配置caddy\r\n- 启动caddy：`sudo systemctl start caddy.service`\r\n- 如果修改了配置文件后，要重新启动caddy：`sudo systemctl reload caddy.service`\r\n\r\n在生产环境中，**不建议直接使用 `caddy start` 命令来运行 Caddy**。这种方式虽然简单，但缺乏对服务的有效管理，无法保证高可用性和稳定性。以下是原因及推荐的生产环境运行方式：\r\n\r\n---\r\n\r\n### 为什么不建议使用 `caddy start`？\r\n1. **缺乏服务管理**：\r\n   - `caddy start` 是以前台进程方式运行，终端关闭后服务会停止。\r\n   - 无法自动重启崩溃的服务。\r\n\r\n2. **日志管理不便**：\r\n   - 日志直接输出到终端，不方便集中管理和归档。\r\n\r\n3. **无法集成到系统服务**：\r\n   - 无法使用系统的服务管理工具（如 `systemd`）来监控和管理 Caddy。\r\n\r\n4. **不适合自动化运维**：\r\n   - 生产环境通常需要自动化部署和监控，`caddy start` 无法满足这些需求。\r\n\r\n---\r\n\r\n### 推荐的生产环境运行方式\r\n\r\n#### 1. 使用 `systemd` 管理 Caddy\r\n`systemd` 是 Linux 系统的服务管理工具，可以确保 Caddy 以守护进程方式运行，并支持自动重启、日志管理等功能。\r\n\r\n##### 步骤：\r\n1. **创建 `systemd` 服务文件**：\r\n   编辑 `/etc/systemd/system/caddy.service` 文件：\r\n   ```ini\r\n   [Unit]\r\n   Description=Caddy\r\n   Documentation=https://caddyserver.com/docs/\r\n   After=network.target\r\n\r\n   [Service]\r\n   User=caddy\r\n   Group=caddy\r\n   ExecStart=/usr/bin/caddy run --config /etc/caddy/Caddyfile\r\n   ExecReload=/usr/bin/caddy reload --config /etc/caddy/Caddyfile\r\n   TimeoutStopSec=5s\r\n   LimitNOFILE=1048576\r\n   LimitNPROC=512\r\n   PrivateTmp=true\r\n   ProtectSystem=full\r\n   AmbientCapabilities=CAP_NET_BIND_SERVICE\r\n\r\n   [Install]\r\n   WantedBy=multi-user.target\r\n   ```\r\n\r\n2. **设置权限**：\r\n   ```bash\r\n   sudo chmod 644 /etc/systemd/system/caddy.service\r\n   ```\r\n\r\n3. **启动并启用服务**：\r\n   ```bash\r\n   sudo systemctl daemon-reload\r\n   sudo systemctl start caddy\r\n   sudo systemctl enable caddy\r\n   ```\r\n\r\n4. **检查状态**：\r\n   ```bash\r\n   sudo systemctl status caddy\r\n   ```\r\n\r\n5. **查看日志**：\r\n   ```bash\r\n   sudo journalctl -u caddy --no-pager | less\r\n   ```\r\n\r\n---\r\n\r\n# 六、常见错误\r\n\r\n- 使用caddy start启动caddy服务器，报错2019端口被占用\r\n    \r\n    \r\n    1、报错如下：\r\n    \r\n    2024/08/31 13:47:27.872 INFO    using adjacent Caddyfile\r\n    Error: loading initial config: loading new config: starting caddy administration endpoint: listen tcp 127.0.0.1:2019: bind: address already in use\r\n    Error: caddy process exited with error: exit status 1\r\n    \r\n    2、解决方法：\r\n    \r\n    `systemctl stop caddy.service`或者`caddy stop`  停止caddy服务\r\n    \r\n    `caddy start`   启动caddy\r\n    \r\n    3、原因：\r\n    \r\n    在服务器启动时，caddy自启动，会监听2019端口，此时再使用`caddy start`  ，相当于又开启了一个caddy，就会报错端口被占用。所以，先将caddy停掉，然后再启动，启动时自动读取Caddyfile，来达到\r\n    \r\n- 安装完成caddy之后，无法启动caddy服务\r\n  1、现象\r\n  使用`systemctl status caddy.service`命令，查看caddy状态，显示faild，表示未启动caddy服务。\r\n  2、原因\r\n  caddy启动时，需要占用三个端口：80、443、2019。\r\n  - 80：http协议端口\r\n  - 443：https协议端口\r\n  - 2019：caddy运行端口\r\n  \r\n  如果之前安装了nginx，则会占用80和443端口，此时需要将nginx关闭，并且关闭80和443端口。\r\n  ```bash\r\n  #查看端口是否被占用\r\n  sudo netstat -tuln | grep -E '(:80|:443)'\r\n\r\n  # 解决方法\r\n  systemctl stop nginx\r\n  kill -9 80\r\n  kill -9 443\r\n  ```\r\n  此时再启动caddy服务：`systemctl start caddy.service`"
  },
  {
    "slug": "Docker安装Wordpress",
    "title": "Docker安装Wordpress",
    "description": "使用Docker快速部署Wordpress博客系统",
    "date": "2024-10-31",
    "tags": [
      "Docker",
      "Wordpress",
      "部署"
    ],
    "content": "\r\n# Docker安装Wordpress\r\n\r\n## 1. 拉取镜像\r\n\r\n```shell\r\ndocker pull wordpress\r\n```\r\n\r\n## 2. 创建容器\r\n```shell\r\ndocker run -it --name mywordpress -p 9999:80 -v /home/ubuntu/mywordpress:/var/www/html -d wordpress\r\n```\r\n\r\n## 3. 使用caddy反向代理，并配置DNS解析\r\n1. 编辑Caddyfile文件，添加如下内容：\r\n    ```shell\r\n    dalualex.com {\r\n            reverse_proxy localhost:9999 {\r\n                    header_up -Origin\r\n            }\r\n    }\r\n    ```\r\n2. 重新启动caddy服务：\r\n    ```shell\r\n    sudo caddy stop \r\n    sudo caddy start\r\n    ```\r\n3. 配置DNS解析，将域名解析到服务器IP地址。\r\n\r\n\r\n## 4. 创建Mysql数据库，配置Wordpress\r\n- 安装好mysql，创建数据库：dalualex\r\n- 访问http://localhost:9999/wp-admin/setup-config.php ，按照提示配置即可。\r\n>注意：数据库的ip地址为服务器的内网地址。\r\n\r\n## 5. 解决Wordpress的URL问题（无样式表）\r\n1. 进入docker映射的`/data`目录，打开`\\wp-includes\\functions.php`，找到代码\r\n **require( ABSPATH . WPINC . ‘/option.php’ );**\r\n大概在第8行。\r\n在下方添加以下代码：\r\n```php\r\nadd_filter('script_loader_src', 'agnostic_script_loader_src', 20,2); function agnostic_script_loader_src($src, $handle) { return preg_replace('/^(http|https):/', '', $src); } \r\n\r\nadd_filter('style_loader_src', 'agnostic_style_loader_src', 20,2); function agnostic_style_loader_src($src, $handle) { return preg_replace('/^(http|https):/', '', $src); }\r\n```\r\n2. 打开`\\wp-config.php`文件找到代码\r\n** \r\n@package WordPress\r\n*/\r\n在下方添加如下代码：\r\n```php\r\n$_SERVER['HTTPS'] = 'on';\r\ndefine('FORCE_SSL_LOGIN', true);\r\ndefine('FORCE_SSL_ADMIN', true);\r\n```\r\n3. 将WordPress地址(URL)、站点地址(URL)改为https://开头的链接地址(如https://dalualex.com)，后点击“保存更改”。\r\n![](https://picgo.dalualex.com/20241031153242.png)\r\n\r\n"
  },
  {
    "slug": "Docker常用命令",
    "title": "Docker常用命令",
    "description": "Docker容器管理的常用命令大全",
    "date": "2024-09-25",
    "tags": [
      "Docker",
      "命令",
      "容器"
    ],
    "content": "\r\n# Docker命令\r\n\r\n# 镜像\r\n\r\n- 拉取镜像\r\n\r\n```bash\r\ndocker pull ubuntu\r\n```\r\n\r\n- 启动容器\r\n\r\n```bash\r\ndocker run -p 8080:80 mysql                  #-p 端口映射,前面的是机器端口，后面是容器端口\r\ndocker run -d nginx                          #后台启动容器\r\ndocker run -it ubuntu /bin/bash              #-it 交互界面运行\r\ndocker update --restart-always filebrowser   #开机自启动\r\n```\r\n\r\n- 镜像列表\r\n\r\n```bash\r\ndocker images\r\n```\r\n\r\n- 删除镜像\r\n\r\n```bash\r\ndocker rmi -f 镜像id\r\n```\r\n\r\n# 容器\r\n\r\n- 后台运行的容器列表\r\n\r\n```bash\r\ndocker ps       #列出所有正在运行的容器\r\ndocker ps -a    #列出所有容器的运行记录\r\n```\r\n\r\n- 进入容器\r\n\r\n```bash\r\ndocker exec -it 容器id /bin/bash或sh\r\n```\r\n\r\n- 退出容器\r\n\r\n```bash\r\nexit            #停止并退出\r\nctrl + p + q    # 不停止并退出\r\n```\r\n\r\n- 启动容器\r\n\r\n```jsx\r\ndocker start 容器id\r\ndocker restart 容器id\r\n```\r\n\r\n- 停止容器\r\n\r\n```bash\r\ndocker stop 容器id\r\n```\r\n\r\n- 删除容器\r\n\r\n```bash\r\ndocker rm -f 容器id\r\n```\r\n\r\n- 查看容器具体信息，可以看到**本地IP、映射端口、数据卷**等信息\r\n\r\n```bash\r\ndocker inspect 容器id\r\n```\r\n\r\n- 挂载数据卷\r\n\r\n```bash\r\ndocker run -v /home/ceshi:/home centos #-v 系统目录：容器目录\r\n```\r\n\r\n# 容器迁移\r\n\r\n```bash\r\ndocker commit -m '描述信息' 容器名称 镜像名称            #将容器保存成镜像\r\ndocker save 镜像名称 > xxx.tar                          #将镜像打包成tar文件\r\ndocker load < xxx.tar                                  #恢复成镜像\r\ndocker run --name nginx-test -p 8080:80 -d nginxtest   #启动容器\r\n```\r\n\r\n# 网络\r\n\r\n```bash\r\ndocker network create net       #创建网络，名称为net\r\n#启动容器时，加入创建的网络,并为该容器的网络命名\r\ndocker run -d -p 3306:3306 --network net --network-alias mysql  -e MYSQL_ROOT_PASSWORD=root mysql:5.7\r\n```\r\n"
  },
  {
    "slug": "export default用法大全",
    "title": "export default用法大全",
    "description": "JavaScript模块化语法export default的详细用法",
    "date": "2024-11-15",
    "tags": [
      "JavaScript",
      "模块化",
      "教程"
    ],
    "content": "\r\n`export default` 是 JavaScript 中的一种模块化语法，用于将一个模块的主要功能导出。它可以导出一个对象、类、函数、变量等。其他模块可以使用 `import` 语法导入这个默认导出的内容。下面是如何使用 `export default` 和 `import` 的几个常见示例。\r\n\r\n### 1. 导出一个函数\r\n\r\n你可以将一个函数作为默认导出：\r\n\r\n```javascript\r\n// myFunction.js\r\nexport default function() {\r\n  console.log('Hello from the default function!');\r\n}\r\n```\r\n\r\n然后，其他文件可以通过 `import` 语法导入并使用这个函数：\r\n\r\n```javascript\r\n// main.js\r\nimport myFunction from './myFunction.js'; // 导入默认导出的函数\r\n\r\nmyFunction(); // 输出: Hello from the default function!\r\n```\r\n\r\n### 2. 导出一个对象\r\n\r\n你也可以导出一个对象作为默认导出：\r\n\r\n```javascript\r\n// settings.js\r\nconst settings = {\r\n  theme: 'dark',\r\n  language: 'en'\r\n};\r\n\r\nexport default settings;\r\n```\r\n\r\n导入这个对象：\r\n\r\n```javascript\r\n// app.js\r\nimport settings from './settings.js'; // 导入默认导出的对象\r\n\r\nconsole.log(settings.theme); // 输出: dark\r\nconsole.log(settings.language); // 输出: en\r\n```\r\n\r\n### 3. 导出一个类\r\n\r\n`export default` 可以用来导出一个类：\r\n\r\n```javascript\r\n// Person.js\r\nexport default class Person {\r\n  constructor(name) {\r\n    this.name = name;\r\n  }\r\n\r\n  greet() {\r\n    console.log(`Hello, my name is ${this.name}`);\r\n  }\r\n}\r\n```\r\n\r\n导入并使用这个类：\r\n\r\n```javascript\r\n// app.js\r\nimport Person from './Person.js'; // 导入默认导出的类\r\n\r\nconst person = new Person('Alice');\r\nperson.greet(); // 输出: Hello, my name is Alice\r\n```\r\n\r\n### 4. 导出一个箭头函数\r\n\r\n你也可以导出一个箭头函数：\r\n\r\n```javascript\r\n// greet.js\r\nexport default () => {\r\n  console.log('Hello from the default arrow function!');\r\n};\r\n```\r\n\r\n导入并调用它：\r\n\r\n```javascript\r\n// app.js\r\nimport greet from './greet.js'; // 导入默认导出的箭头函数\r\n\r\ngreet(); // 输出: Hello from the default arrow function!\r\n```\r\n\r\n### 5. 与 `export` 一起使用（命名导出 vs 默认导出）\r\n\r\n你还可以同时使用命名导出和默认导出。命名导出允许你导出多个不同的值，而默认导出则只能有一个导出：\r\n\r\n```javascript\r\n// utils.js\r\nexport const add = (a, b) => a + b;\r\nexport const subtract = (a, b) => a - b;\r\nexport default function multiply(a, b) {\r\n  return a * b;\r\n}\r\n```\r\n\r\n导入时，你可以选择导入默认导出或者命名导出：\r\n\r\n```javascript\r\n// app.js\r\nimport multiply, { add, subtract } from './utils.js';\r\n\r\nconsole.log(add(1, 2));        // 输出: 3\r\nconsole.log(subtract(5, 3));   // 输出: 2\r\nconsole.log(multiply(2, 3));   // 输出: 6\r\n```\r\n\r\n### 小结\r\n\r\n- `export default` 用于导出一个模块的主功能，可以是一个函数、对象、类或任何其他类型。\r\n- `import` 用于在其他模块中导入默认导出的内容。\r\n- 一个模块只能有一个 `export default`，但是可以有多个命名导出。\r\n\r\n通过使用 `export default`，你可以让模块的接口更简洁、直观。"
  },
  {
    "slug": "Linux常用命令",
    "title": "Linux常用命令",
    "description": "Linux系统管理和操作的常用命令集合",
    "date": "2025-02-17",
    "tags": [
      "Linux",
      "命令",
      "系统管理"
    ],
    "content": "\r\n# linux常用命令\r\n\r\n![](https://picgo.dalualex.com/20240925192816.png)\r\n\r\n# 文件管理\r\n\r\n```bash\r\nls                              显示工作目录下的内容\r\npwd                             显示当前路径\r\nmkdir                           创建按目录\r\ncp                              复制文件或目录 -r递归复制 -f若目标文件已存在，则覆盖原文件\r\nmv /dir1 /dir2                  将dir1移动到dir2中\r\ntouch                           filename 创建文件\r\ncd cd..                         进入退出目录\r\nrm -rf                          递归删除文件或目录\r\nchmod 777                       dir 修改文件和文件夹权限\r\nchmod -R 777 [dir]              对文件夹下的所有文件和文件夹执行读、写、可执行权限\r\ntree                            查看文件夹结构\r\n```\r\n\r\n# 包管理\r\n\r\n```bash\r\napt [update|upgrade|install|remove|--fix-broken install]\r\ndpkg -i\r\naptitude 与apt-get不同的是，aptitude在处理依赖问题上更佳一些。举例来说，aptitude 在删除一个包时，会同时删除本身所依赖的包。这样，系统中不会残留无用的包，整个系统更为干净。它通过文本操作菜单和命令两种方式管理软件包。\r\n```\r\n\r\n# 磁盘管理\r\n\r\n```bash\r\nfdisk -l                    列出所有次磁盘设备文件\r\nfdisk                       /dev/sda1 选择操作的磁盘，例如分区\r\ndf -h                       显示文件系统挂载点信息\r\nmount                       /dev/sda1 /mnt/sad 挂载分区\r\numount                      /dev/sda1 卸载分区\r\nmkfs -t ext4 /dev/sda1      将文件系统格式化为ext4格式\r\n```\r\n\r\n# 网络传输\r\n\r\n```bash\r\ncurl [url]                          将url内容打印到控制台\r\ncurl -o ./demo.html [url]           将文件下载到指定目录并重命名\r\ncurl -O [url]                       将文件下载到当前目录并使用原名\r\n\r\nwget -P /home/ubuntu [url]          将文件下载到/home/ubuntu目录(支持http和ftp协议)\r\n```\r\n\r\n# 解压缩\r\n\r\n| 项目（打包解压） | 压缩 | 解压 |\r\n| --- | --- | --- |\r\n| zip格式 | zip -r [目标文件名].zip [原文件/目录名] | unzip [原文件名].zip |\r\n| tar格式 | tar -cvf [目标文件名].tar [原文件/目录名] | tar -xvf [原文件名].tar |\r\n| tar.gz格式 | tar -zcvf [目标文件名].tar.gz [原文件/目录名] | tar -zxvf [原文件名].tar.gz |\r\n| tar.bz2格式 | tar -jcvf [目标文件名].tar.bz2 [原文件/目录名] | tar -jxvf [原文件名].tar.bz2 |\r\n| tar.xz格式 | xz [原文件名].tar | unxz [原文件名].tar.xz |\r\n\r\n# 服务管理\r\n\r\n服务本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其他程序的请求，如（mysql,sshd,防火墙等），因此我们有称为守护进程。\r\n\r\n服务目前基本都是使用systemd来管理，其脚本存放于`/lib/systemd/system`这个目录下面，这些脚本，基于都是使用 bash shell 编写的。\r\n![](https://picgo.dalualex.com/20250217181844.png)\r\n需要启停服务，或者查看服务的运行状态，可以通过下面的方法来处理：\r\n```bash\r\nsystemctl [start|stop|reload|status] [服务名]\r\nsystemctl [enable|disable] [服务名]                     #开机打开/关闭自启动服务\r\nsystemctl list-unit-files --type=service                #查看所有服务\r\n\r\n#查看常用服务状态\r\nsudo systemctl status caddy.service\r\nsudo systemctl status nginx.service\r\nsudo systemctl status mysql.service\r\n```\r\n查看服务状态信息：\r\n![](https://picgo.dalualex.com/Snipaste_2025-02-17_18-07-46.png)\r\n- `Loaded: loaded`：表示服务的文件已经加载\r\n- `/lib/systemd/system/caddy.service`：服务脚本存放位置\r\n- `enabled`：软件开机自启动\r\n- `vendor preset: enabled`：软件包由软件提供商提供\r\n- `Active: active (running)`：软件正在运行\r\n- `ExecReload=/usr/bin/caddy reload --config /etc/caddy/Caddyfile --force`：软件启动时的命令，可以看到其配置文件为`/etc/caddy/Caddyfile`\r\n# 文档编辑\r\n\r\n```bash\r\nvim index.html\r\n两种模式：编辑模式和命令行模式，相互切换i键和ESC键\r\n- 切换至插入模式编辑文件\r\n\r\n在「命令行模式」下按一下字母「i」就可以进入「插入模式」\r\n\r\n- 切换至命令行模式\r\n\r\n按一下「ESC」键转到「命令行模式」\r\n\r\n- 退出vi及保存文件\r\n\r\n在「命令行模式」下，按一下「：」冒号键进入「Last line mode」，例如：\r\n\r\n: wq (输入「wq」，存盘并退出vi）\r\n\r\n: q! (输入q!， 不存盘强制退出vi）\r\n\r\necho\r\n```\r\n\r\n# 其他命令\r\n\r\n```bash\r\nsudo -i                 获取系统权限\r\nexit                    退出系统权限\r\nwhereis                 nginx 查看软件配置文件位置\r\n--help                  查看命令参数\r\n```\r\n\r\n# 软件约定目录\r\n\r\n| 目录 | 说明 |\r\n| --- | --- |\r\n| /etc/init.d/ | 启动脚本存放位置 |\r\n| /etc/sysconfig | 初始化环境配置文件存放位置 |\r\n| /etc/ | 配置文件存放位置 |\r\n| /etc/xinetd.conf | 基于xinetd服务的配置文件 |\r\n| /etc/xinetd.d | 基于xinetd服务的启动脚本 |\r\n| /var/lib | 服务产生的数据存放位置 |\r\n| /var/log | 服务日志存放位置 |\r\n\r\n# 安装常用软件命令\r\n\r\n```bash\r\nsudo apt install git\r\n\r\nsudo apt install nodejs\r\nsudo apt install npm\r\n\r\nsudo apt install nginx\r\n\r\nsudo apt install docker.io\r\n\r\nsudo apt install openssh-server\r\n/etc/init.d/ssh restart #重启ssh服务器，设置密码\r\n```"
  },
  {
    "slug": "Mysql使用的常用小技巧",
    "title": "Mysql使用的常用小技巧",
    "description": "Mysql数据库操作的实用技巧和方法",
    "date": "2024-12-10",
    "tags": [
      "Mysql",
      "数据库",
      "技巧"
    ],
    "content": "\r\n# Mysql使用的常用小技巧\r\n\r\n## 一、过滤重复数据\r\n思路：创建临时表，将需要过滤的数据插入到临时表中，由于临时表字段上有唯一索引，所以可以忽略重复数据。然后使用临时表替换原来的数据表。\r\n```sql\r\n-- 创建临时表  \r\nCREATE TEMPORARY TABLE temp_skus (  \r\n    sku_id INT,  \r\n    sku_name VARCHAR(255) UNIQUE,  \r\n    email VARCHAR(255),  \r\n    company VARCHAR(255),  \r\n    sku_price DECIMAL(10, 2)  \r\n);  \r\n\r\n-- 插入数据，重复的sku_name会被忽略  \r\nINSERT IGNORE INTO temp_skus (sku_id, sku_name, email, company, sku_price)  \r\nSELECT sku_id, sku_name, email, company, sku_price  \r\nFROM skus;  \r\n\r\n-- 删除skus表，重新创建skus表 \r\nDROP TABLE skus;\r\n\r\nCREATE TABLE IF NOT EXISTS skus (  \r\n    id INT AUTO_INCREMENT PRIMARY KEY,       \r\n    email VARCHAR(100) NOT NULL ,            \r\n    company VARCHAR(50) NOT NULL,            \r\n    sku_id VARCHAR(50),    \r\n    sku_name VARCHAR(255) UNIQUE NOT NULL,          \r\n    sku_price DOUBLE NOT NULL                \r\n);\r\n\r\n-- 将临时表数据插入skus表  \r\nINSERT INTO skus SELECT * FROM temp_skus; \r\n```"
  },
  {
    "slug": "Nginx使用教程",
    "title": "Nginx使用教程",
    "description": "Nginx服务器的安装、配置和反向代理设置",
    "date": "2024-11-01",
    "tags": [
      "Nginx",
      "服务器",
      "反向代理"
    ],
    "content": "\r\n# Nginx使用教程\r\n\r\n## 一、安装Nginx\r\n```bash\r\napt install nginx                   # 安装\r\nsystemctl start nginx.service       # 启动\r\nsystemctl reload nginx.service      # 重启\r\nsystemctl enable nginx.service      #开机自启动\r\n\r\n# nginx配置文件\r\n目录：/etc/nginx/conf.d             #存放server块配置文件的目录，用于反向代理\r\n文件：/etc/nginx/conf.d             #全局配置文件\r\n目录：/var/log/nginx                #日志目录\r\n目录：/usr/share/nginx/html         #网站文件目录\r\n```\r\n\r\n## 二、配置反向代理\r\n创建default.conf文件，复制下面内容到文件。然后将default.conf文件复制到/etc/nginx/conf.d目录\r\n```bash\r\nserver {\r\n    listen 80;                                 # 监听的端口\r\n    server_name dalualex.com;                  # 监听的域名，多个域名用空格隔开\r\n    location / {\r\n        proxy_pass http://localhost:3000;\r\n        proxy_set_header Host $host;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n        client_max_body_size 1024m;            # 文件上传大小限制\r\n    }\r\n}\r\n\r\n# 访问 dalualex.com 直接重定向到本机的 http://localhost:3000\r\n# server_name可以使用多个域名，因此一台服务器上可以安装多个应用，同时都监听80端口。这就是反向代理的作用\r\n```\r\n\r\n## 三、重启Nginx\r\n```bash\r\nsystemctl reload nginx.service     # 重启\r\n```\r\n\r\n## 四、使用Cloudflare配置DNS\r\n![](https://picgo.dalualex.com/20241101191639.png)\r\n- A记录（Address Record）\r\n功能：将域名映射到一个IPv4地址。\r\n示例：example.com A 192.0.2.1\r\n- AAAA记录\r\n功能：将域名映射到一个IPv6地址。\r\n示例：example.com AAAA 2001:0db8:85a3:0000:0000:8a2e:0370:7334\r\n- CNAME记录（Canonical Name Record）\r\n功能：将一个域名别名指向另一个域名。\r\n示例：www.example.com CNAME example.com\r\n> 代理状态设为开启，Cloudflare会默认将DNS解析到Cloudflare的服务器上，自动添加SSL证书，不需要手动添加SSL证书。\r\n\r\n此时，访问域名 https://dalualex.com 即可看到Nginx反向代理的页面。\r\n\r\n## 参考：使用Nginx配置SSL证书\r\n1. 按照云服务商要求步骤，申请号证书文件，并下载到本地，然后复制到nginx的配置文件目录下，即/etc/nginx\r\n2. 在/etc/nginx/conf.d目录下，新建app.conf，将下面内容复制进去\r\n```bash\r\nserver {\r\n    listen 443 ssl;\r\n    server_name duoduoduizhang.icu;                                         #填写您的证书绑定的域名\r\n    ssl_certificate duoduoduizhang.icu_bundle.crt;                          #填写您的证书文件名称\r\n    ssl_certificate_key duoduoduizhang.icu.key;                             #填写您的私钥文件名称\r\n    ssl_session_timeout 5m;\r\n    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;                                    # 可参考此 SSL 协议进行配置\r\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;     #可按照此加密套件配置，写法遵循 openssl 标准\r\n    ssl_prefer_server_ciphers on;\r\n    location / {\r\n        proxy_pass http://localhost:3000;\r\n        proxy_set_header Host $host;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n    }\r\n}\r\n```"
  },
  {
    "slug": "Taildwind css教程",
    "title": "Tailwind CSS教程",
    "description": "Tailwind CSS布局系统详解，包括Flex和Grid布局",
    "date": "2024-12-05",
    "tags": [
      "Tailwind",
      "CSS",
      "前端"
    ],
    "content": "\r\n# 一、布局\r\n## 行内元素与块级元素的区别\r\n\r\n### 1. **默认布局行为**\r\n| 特性                | 行内元素 (Inline)                     | 块级元素 (Block)                      |\r\n|---------------------|--------------------------------------|---------------------------------------|\r\n| **占位方式**         | 只占据内容宽度，不独占一行。           | 独占一行，宽度默认撑满父容器。          |\r\n| **排列方式**         | 与其他行内元素水平排列（从左到右）。     | 垂直排列（从上到下），每个元素换行显示。 |\r\n| **宽度/高度设置**    | 无法直接设置 `width` 和 `height`。     | 可以设置 `width` 和 `height`。         |\r\n| **内外边距**         | 水平方向（`margin/padding-left/right`）生效，垂直方向（`margin/padding-top/bottom`）**不占空间**。 | 所有方向的内外边距均生效。              |\r\n\r\n---\r\n\r\n### 2. **常见示例**\r\n行内元素\r\n```html\r\n<span>这是一个行内元素</span>\r\n<a href=\"#\">链接</a>\r\n<strong>加粗文本</strong>\r\n<img src=\"image.jpg\" alt=\"图片\"> <!-- 行内替换元素 -->\r\n```\r\n- 默认不换行，适合包裹文本或小部分内容。\r\n\r\n块级元素\r\n```html\r\n<div>这是一个块级元素</div>\r\n<p>段落</p>\r\n<h1>标题</h1>\r\n<ul><li>列表项</li></ul>\r\n```\r\n- 默认独占一行，适合构建页面结构（如布局容器、段落等）。\r\n\r\n---\r\n\r\n### 3. **CSS 控制转换**\r\n可以通过 `display` 属性切换元素类型：\r\n- 将行内元素改为块级：\r\n  ```css\r\n  span { display: block; } /* 现在可以设置宽度/高度 */\r\n  ```\r\n- 将块级元素改为行内：\r\n  ```css\r\n  div { display: inline; } /* 失去宽度/高度设置能力 */\r\n  ```\r\n- **行内块元素（Inline-Block）**：\r\n  ```css\r\n  a { display: inline-block; } /* 兼具行内排列和块级样式特性 */\r\n  ```\r\n  - 特点：水平排列，但可以设置 `width/height` 和垂直边距。\r\n\r\n---\r\n\r\n### 4. **实际应用场景**\r\n- **行内元素**：\r\n  - 修饰文本（如加粗、斜体、链接）。\r\n  - 插入小图标或图片（如 `<img>`、`<svg>`）。\r\n- **块级元素**：\r\n  - 构建页面布局（如 `<div>`、`<section>`）。\r\n  - 结构化内容（如 `<p>`、`<ul>`、`<h1>`）。\r\n\r\n---\r\n\r\n### 5. **特殊注意事项**\r\n1. **替换元素（如 `<img>`、`<input>`）**：\r\n   - 虽然是行内元素，但可以设置 `width/height`（类似 `inline-block`）。\r\n2. **嵌套规则**：\r\n   - 行内元素不能直接嵌套块级元素（如 `<span><div></div></span>` 是无效的）。\r\n   - 块级元素可以嵌套行内元素或块级元素（如 `<div><span></span></div>`）。\r\n\r\n---\r\n\r\n### 6. **总结表格**\r\n| **特性**         | 行内元素                          | 块级元素                          | 行内块元素（`inline-block`）      |\r\n|------------------|----------------------------------|----------------------------------|----------------------------------|\r\n| **默认宽度**      | 内容宽度                         | 父容器宽度                       | 内容宽度                         |\r\n| **是否换行**      | 否                               | 是                               | 否                               |\r\n| **设置宽高**      | 无效                             | 有效                             | 有效                             |\r\n| **垂直边距**      | 不占空间                         | 有效                             | 有效                             |\r\n| **典型标签**      | `<span>`, `<a>`, `<strong>`      | `<div>`, `<p>`, `<ul>`           | `<img>`, `<button>`              |\r\n\r\n---\r\n## Flex 布局的本质\r\nFlex 布局（Flexible Box Layout）是 CSS3 引入的一种布局模式，旨在提供更灵活、更强大的方式来设计网页的布局。Flex 布局的核心思想是将容器中的子元素按照弹性的方式进行排列和对齐，以适应不同的屏幕尺寸和设备。\r\n\r\n在 Flex 布局中，**块级元素会自动变为 Flex 子项（Flex Items）**，而 Flex 子项的默认行为是**类似行内块元素（`inline-block`）**的，但它们的实际表现是由 Flex 容器的属性控制的，而不是直接变为传统的行内元素（`inline`）。以下是详细说明：\r\n\r\n---\r\n\r\n### 1. **Flex 布局对子元素的影响**\r\n当将一个元素设置为 Flex 容器时（`display: flex` 或 `display: inline-flex`），其直接子元素会遵循以下规则：\r\n- **默认行为**：\r\n  - 子元素会变成 **Flex 子项（Flex Items）**。\r\n  - 子元素的 `display` 属性会被忽略（即使子元素是块级或行内元素）。\r\n  - Flex 子项默认按主轴方向排列（通常是水平排列），且不会换行。\r\n\r\n- **关键区别**：\r\n  - Flex 子项**不是纯粹的行内元素**，也不是块级元素，而是一种新的布局模式。\r\n  - 它们可以设置宽度、高度、内外边距（类似 `inline-block`），但排列方式由 Flex 容器控制。\r\n\r\n---\r\n\r\n### 2. **如何模拟行内元素的效果**\r\n如果希望在 Flex 布局中让子元素**像行内元素一样排列**（不换行、宽度由内容决定），可以通过以下方式实现：\r\n\r\n方法 1：使用 `flex` 属性控制子项宽度\r\n```css\r\n.flex-container {\r\n  display: flex;\r\n  /* 子项不换行 */\r\n  flex-wrap: nowrap;\r\n}\r\n\r\n.flex-item {\r\n  /* 子项宽度由内容决定（类似行内元素） */\r\n  flex: 0 1 auto; /* 等同于默认值 */\r\n}\r\n```\r\n- `flex: 0 1 auto` 是默认值，表示：\r\n  - `flex-grow: 0`：不拉伸。\r\n  - `flex-shrink: 1`：允许收缩。\r\n  - `flex-basis: auto`：宽度由内容决定。\r\n\r\n方法 2：强制子项为 `inline` 或 `inline-block`\r\n虽然 Flex 子项的 `display` 属性会被忽略，但可以通过其他方式模拟行内元素的行为：\r\n```css\r\n.flex-item {\r\n  /* 类似行内元素的特性 */\r\n  white-space: nowrap; /* 禁止内容换行 */\r\n  width: fit-content;  /* 宽度由内容决定 */\r\n}\r\n```\r\n\r\n---\r\n\r\n### 3. **与传统行内元素的区别**\r\n| **特性**               | Flex 子项                     | 传统行内元素 (`inline`)         |\r\n|------------------------|-------------------------------|--------------------------------|\r\n| **宽度/高度**          | 可以设置                      | 无法设置                       |\r\n| **排列方向**           | 由 Flex 容器的主轴控制        | 始终水平排列                   |\r\n| **内外边距**           | 完全生效                      | 垂直方向不占空间               |\r\n| **嵌套规则**           | 可以嵌套任何元素              | 不能嵌套块级元素               |\r\n\r\n---\r\n\r\n### 4. **总结**\r\n- **Flex 布局中，子元素不再是块级或行内元素**，而是 Flex 子项，其行为由 Flex 容器控制。\r\n- 如果需要子元素**像行内元素一样不换行且宽度自适应内容**，可以通过 `flex: 0 1 auto` 或 `width: fit-content` 实现。\r\n- Flex 子项的优势是**可以自由控制对齐、间距、伸缩比例**，而传统行内元素无法做到。\r\n---\r\n\r\n## Taildwind CSS的Flex布局\r\n### 1、对齐方向\r\n- flex-row：水平排列\r\n- flex-col：垂直排列\r\n### 2、对齐方式\r\n- justify-start：左对齐\r\n- justify-end：右对齐\r\n- justify-center：居中对齐\r\n- justify-between：两端对齐\r\n- justify-around：平均分布\r\n- justify-evenly：平均分布，两端不留空隙 \r\n- items-start：顶部对齐\r\n- \r\n- items-end：底部对齐\r\n- items-center：居中对齐\r\n- items-baseline：基线对齐\r\n- items-stretch：拉伸对齐\r\n### 3、伸缩比例（适用于flex子项）\r\n- flex-1：允许弹性项目根据需要增大和缩小，忽略其初始大小\r\n- flex-auto：允许弹性项目增长和收缩，同时考虑到它的初始大小\r\n- \r\n- shrink：允许缩小\r\n- shrink-0：不允许缩小\r\n- \r\n- flex-none： 防止弹性项目增长或收缩\r\n### 4、换行\r\n- flex-nowrap：不换行\r\n- flex-wrap：换行\r\n### 5、间隙\r\n- gap-2：设置子项之间的间隙\r\n- gap-x-2：设置水平方向的间隙\r\n- gap-y-2：设置垂直方向的间隙\r\n\r\n---\r\n## Taildwind CSS的Grid布局\r\n### 1、定义列数和行数\r\n- 列数：grid-cols-{n}\r\n例如：grid-cols-3 表示 3 列。\r\n- 行数：grid-rows-{n}\r\n例如：grid-rows-2 表示 2 行。\r\n### 2、子项定位与跨度\r\n- col-start-{n}：设置子项起始列\r\n- col-end-{n}：设置子项结束列\r\n- row-start-{n}：设置子项起始行\r\n- row-end-{n}：设置子项结束行\r\n- \r\n- col-span-{n}：设置子项跨列数\r\n- row-span-{n}：设置子项跨行数\r\n### 3、对齐方式\r\n#### 容器内对齐 \r\n\r\n| 对齐方式         | 工具类                     | 作用                          |  \r\n|------------------|---------------------------|-------------------------------|  \r\n| **水平对齐**     | `justify-items-{value}`   | 控制所有子项的水平对齐（`start`/`end`/`center`/`stretch`） |  \r\n| **垂直对齐**     | `items-{value}`           | 控制所有子项的垂直对齐（`start`/`end`/`center`/`stretch`） |  \r\n| **整体对齐**     | `place-items-{value}`     | 同时设置水平和垂直对齐（`start`/`end`/`center`/`stretch`） |  \r\n#### 单个子项对齐\r\n\r\n| 对齐方式         | 工具类                     |  \r\n|------------------|---------------------------|  \r\n| **水平对齐**     | `justify-self-{value}`    |  \r\n| **垂直对齐**     | `self-{value}`           |  \r\n\r\n\r\n\r\n\r\n"
  },
  {
    "slug": "Wordpress安装以及常用插件",
    "title": "Wordpress安装以及常用插件",
    "description": "Wordpress的Docker安装方法和常用插件推荐",
    "date": "2024-11-25",
    "tags": [
      "Wordpress",
      "插件",
      "Docker"
    ],
    "content": "\r\n# Wordpress安装以及常用插件\r\n\r\n### 一、Docker安装Wordpress\r\n1. 安装wordpress\r\n```bash\r\nsudo docker run -it --name dalualex -p 9999:80 -v /home/ubuntu/dalualex:/var/www/html -d wordpress\r\n```\r\n2. 域名解析和反向代理配置\r\n3. 创建mysql数据库\r\n4. 网站初始化设置\r\n打开网址：http://dalualex.com/wp-admin/install.php ,按照提示完成网站初始化设置。\r\n5. 修改wp-config.php\r\n初始化设置后，网站会没有样式，因为没有配置SSL，需要进行一下设置：\r\n- 安装插件Really Simple Security；\r\n- 修改wp-config.php文件，添加以下代码：\r\n    ```php\r\n    //Begin Really Simple Security Server variable fix\r\n    $_SERVER[\"HTTPS\"] = \"on\";\r\n    //END Really Simple Security\r\n    ```\r\n### 二、Wordpress常用插件\r\n\r\n- 网站加速\r\n  - **W3 Total Cache**\r\n- SEO优化\r\n  - **Yoast SEO**\r\n\r\n- 谷歌分析\r\n  - **Site Kit by Google**\r\n- 邮件模板\r\n  - **yaymail**\r\n- 多语言插件\r\n  - **weglot**\r\n- 网站搬家\r\n  - **all in one migation**\r\n- 增强woocommerse功能的插件\r\n  - 代码运行：**Code Snippets**\r\n   ```php\r\n    //隐藏Woocommerce商城中的加入购物车功能和实现隐藏价格标签的代码\r\n\r\n    add_filter( 'woocommerce_is_purchasable', '__return_false');\r\n    remove_action( 'woocommerce_single_product_summary', 'woocommerce_template_single_add_to_cart', 30 );\r\n\r\n    // 如果你不想要显示提示信息，请把这一段删除即可\r\n    add_action( 'woocommerce_single_product_summary', 'optional_message', 20 );\r\n    function optional_message() {\r\n    echo '<p class=\"woocommerce-message\">Please send an email to iwideal@outlook.com to contact us.</p>';\r\n    }\r\n\r\n    // 隐藏商品价格，如果不想隐藏价格，请把这一段删除即可\r\n    add_filter( 'woocommerce_get_price_html', 'woocommerce_remove_price');\r\n    function woocommerce_remove_price($price){    \r\n        return ;\r\n    }\r\n   ```\r\n   - 增强运费设置：**Flexible Shipping**\r\n   - 增强折扣设置：**Discount Rules Core**\r\n   - 增强收藏夹功能：**YITH WooCommerce Wishlist**"
  },
  {
    "slug": "小技巧",
    "title": "小技巧",
    "description": "我的第一篇博客文章",
    "date": "2024-01-01",
    "tags": [
      "博客",
      "开始"
    ],
    "content": "\r\n# 小技巧\r\n## Mysql8.0设置远程连接\r\n  - 找到`/etc/mysql/mysql.cnf`配置文件\r\n  - 找到bind-address这一项并将其更改为0.0.0.0\r\n  - 重启mysql服务：`sudo systemctl restart mysql`\r\n\r\n## Git常用全局配置命令 \r\n```bash\r\nsudo git config --global --list                                 # 查看配置信息\r\nsudo git config --global user.name \"your_username\"              # 设置用户名\r\nsudo git config --global user.email \"your_email@example.com\"    # 设置邮箱\r\nsudo git config --global --unset http.postbuffer                # 解决推送大文件时的问题\r\nsudo git config --global credential.helper store                # 解决每次输入密码的问题\r\nsudo git config --global credential.helper store                # 永久保存凭据,免密登录\r\n```\r\n## 腾讯云无法访问github\r\n- 从`https://www.ipaddress.com/`获取github的ip地址\r\n- 修改服务器的`/etc/hosts`文件，添加如下两行\r\n    ```\r\n    140.82.114.4 github.com\r\n    185.199.108.133 raw.githubusercontent.com\r\n    ```\r\n## 代码要同时推送到 gitee 和 github 上\r\n假如我们在 github 创建了一个仓库，那么本地 clone 下来后，主分支(main)是默认跟github 仓库的主分支(main) 关联的。这样直接在 VSCode 里面点 同步的圈圈 就会自动同步。\r\n现在我又要推到 gitee，怎么办，很简单，新增一个 remote 源，并命名为 gitee，这样我们就有2个源，然后在vscode中 push 上去即可。\r\n```bash\r\n# 添加远程仓库地址\r\ngit remote add gitee <gitee-repo-url>\r\n```\r\n![](https://picgo.dalualex.com/20241227143035.png)\r\n\r\n## ubuntu升级nodejs\r\n1. 安装 n 工具\r\n   ```bash\r\n   sudo npm install -g n\r\n   ```\r\n2. 升级 nodejs\r\n   ```bash\r\n   sudo n stable\r\n   ```\r\n\r\n\r\n"
  },
  {
    "slug": "常用快捷键",
    "title": "常用快捷键",
    "description": "常用快捷键",
    "date": "2024-01-25",
    "tags": [
      "vscode",
      "快捷键"
    ],
    "content": "\r\n# 常用快捷键\r\n\r\n# IDEA快捷键\r\n\r\n- `Ctrl+X` 删除行\r\n- `Ctrl+D` 复制行\r\n- `Ctrl+E` 最近打开的文件\r\n- `Ctrl+H` 显示类结构图\r\n- `Ctrl+N` 查找类\r\n- `Alt+Enter` 导入包,自动修正\r\n- `Ctrl+Alt+L` 格式化代码\r\n- `Ctrl+/`  注释\r\n- `Alt+上下键` 可以使代码上下行移动\r\n- `双击shitf` 全局搜索\r\n\r\n# HTML快速写法\r\n\r\n***快捷键***\r\n\r\n- `Alt+鼠标左键`，选中多行进行编辑，出现多个光标。\r\n- `Ctrl+Shift+L`，选中与当前被选中行相同的内容进行编辑，文本末尾出现多个光标。\r\n- 按住`Ctrl + Alt`，再按键盘上的上或下键，可以使一列上出现多个光标。\r\n\r\n***快速写法***\r\n\r\n- 输入`lorem`，然后按下Tab键，会自动生成文本内容。`lorem+数字`，可以生成一定长度的文本内容。\r\n- `.row.align*3`  可以迅速写出\r\n    \r\n    ```jsx\r\n    <div class=\"row align\"></div>\r\n    <div class=\"row align\"></div>\r\n    <div class=\"row align\"></div>\r\n    ```\r\n    \r\n\r\n# 搜索引擎语法\r\n\r\n- `“搜索市场份额”`   精确搜索\r\n- `intitle:` 搜索市场份额\r\n- `intext:` 搜索市场份额\r\n- 搜索市场份额 `inurl:video`\r\n- 搜索市场份额 `site:zhihu.com`\r\n- 搜索市场份额 `filetype:pdf`"
  },
  {
    "slug": "开关电源",
    "title": "开关电源",
    "description": "开关电源的工作原理和EMI滤波技术详解",
    "date": "2024-11-20",
    "tags": [
      "硬件",
      "电源",
      "技术"
    ],
    "content": "\r\n# 开关电源\r\n\r\n## 电源的运行原理\r\n开关电源（Switching Power Supply）是一种利用高频开关元件（如 MOSFET、IGBT 等）对输入电压进行调制，达到输出电压和电流需求的一种电源转化器。相较于线性电源，开关电源具有更小的体积、较高的效率和更好的稳定性。以下是开关电源的基本原理和工作过程。\r\n> EMI滤波 → 整流 → 滤波 → 电压调制 → 滤波 → 输出\r\n\r\n## 一、EMI滤波\r\n电磁干扰（EMI，Electromagnetic Interference）滤波电路在电子设备中扮演着至关重要的角色，主要用于抑制和过滤不必要的电磁噪声。这种电磁干扰就是电路中存在忽高忽低的电压，以下是 EMI 对LED设备的影响。\r\n- **闪烁和不稳定光输出：**\r\n\r\n电磁干扰可能导致LED驱动电源发生不稳定，造成LED的输出光强波动，从而出现闪烁现象。这种闪烁不仅影响照明效果，还可能对人的视觉造成不适，尤其是在长时间工作或学习的环境中。\r\n- **降低光效和寿命：**\r\n\r\nEMI可能导致LED驱动电路的过载或过热，进而影响LED的光输出效率和使用寿命。高频干扰可能使得电流波动加剧，这种不稳定性会加速LED的老化。\r\n- **干扰其他电子设备：**\r\n\r\nLED照明设备本身如果受到电磁干扰，其发出的干扰信号也可能影响到其他设备，特别是对高频敏感的设备，如无线设备、通信设备等\r\n\r\n### 1、EMI的产生\r\nEMI 可以由多个来源和设备产生，主要包括以下几类：\r\n\r\n1. **消费电子设备**\r\n- **手机和移动设备**：手机及其充电器在工作和充电过程中可能会发出电磁波，尤其是在无线通讯时。\r\n- **电视机和计算机**：显示器、电视和电脑内部的电子元件，如电源供应器和显卡，特别是在图像更新时也可能产生干扰。\r\n\r\n2. **家用电器**\r\n- **微波炉**：工作过程中会产生强烈的电磁场，尤其是在加热时，可能会干扰周围的电子设备。\r\n- **洗衣机、冰箱等**：这些设备的电动机和电源控制电路在运行时可能产生噪声。\r\n\r\n3. **工业设备**\r\n- **变频驱动器（VFDs）**：用于电动机控制的变频器在开关操作时会产生大量的电磁干扰。\r\n- **焊接设备**：气体焊接、高频焊接设备等在操作时也会发射电磁干扰。\r\n\r\n4. **通信设备**\r\n- **广播发射器**：电视、广播电台的发射设施产生强电磁波，可能会影响附近的电子设备。\r\n- **无线网络设备**：无线路由器、无线音频设备等在传输信号时会发送电磁波。\r\n\r\n5. **电力设备**\r\n- **变电站和高压电线**：高压电力传输线路和变电设备会产生电场和磁场，影响周围设备的正常操作。\r\n- **电源供应系统**：电源适配器、稳压器等会因开关噪声而产生干扰。\r\n\r\n6. **电动工具**\r\n- **电钻、圆锯等**：这些工具使用电动机，在运行时产生的高频噪声可能会干扰其他电子设备。\r\n\r\n7. **汽车和运输工具**\r\n- **汽车电子系统**：现代汽车内的传感器、引擎控制单元（ECU）、音响系统等可能产生的电磁干扰。\r\n- **轨道交通工具**：电动车辆和列车的电力系统可能会产生强烈的电磁干扰。\r\n\r\n8. **医疗设备**\r\n- **医疗成像设备**：如MRI等设备在工作过程中，由于强大的磁场和电场，也会产生电磁干扰。\r\n\r\n总结\r\nEMI 的来源非常广泛，几乎任何带有电子元件的设备都可能产生电磁干扰。为了保证设备的正常工作和降低干扰的影响，设计和使用这些设备时需要注意电磁兼容性（EMC）和有效的 EMI 过滤措施。如果你对某种特定设备或环境下的 EMI 问题有具体的疑问，请随时问我！\r\n\r\n### 2、EMI滤波电路\r\nEMI（电磁干扰）滤波电路的设计旨在减少或消除电磁干扰对电子设备的影响，确保其正常运行。以下是 EMI 滤波电路的组成部分、工作原理以及相关的设计考虑。\r\n\r\n#### 1、EMI滤波电路的组成\r\n\r\nEMI滤波电路通常由以下几个主要组成部分构成：\r\n\r\n1. **电感器（L）**：\r\n   - **作用**：电感器主要用于抑制高频信号，可以限制电流变化的速率，对于高频干扰信号提供高阻抗。其行为类似于低通滤波器，能够防止高频干扰信号通过。\r\n   - **类型**：常见的有共模电感和差模电感。\r\n\r\n2. **电容器（C）**：\r\n   - **作用**：电容器用于将高频干扰信号短路到地，从而滤除高频噪声。电容对高频信号呈现低阻抗，而对直流或低频信号呈现高阻抗。\r\n   - **配置**：通常配置为输入端、输出端和地之间的并联连接。\r\n\r\n3. **辐射器或屏蔽（Shielding）**：\r\n   - **作用**：在某些高频应用中，为降低结构内部的电磁辐射，有时需要使用金属屏蔽来保护敏感元件不受损害。屏蔽降低了电磁场的发射。\r\n\r\n4. **电阻（可选）**：\r\n   - **作用**：在某些电路中，增加适当的电阻可以帮助分担电流，控制电流的流动，并可以通过吸收能量来减少噪声。\r\n\r\n5. **接地电路**：\r\n   - **作用**：确保所有干扰信号引导至地，提供良好的接地可以降低电磁干扰的影响。\r\n\r\n#### 2、EMI滤波电路的工作原理\r\n\r\nEMI滤波电路的工作原理主要基于电感和电容的特性，通过配置不同的元件来实现对干扰信号的有效过滤。具体过程如下：\r\n\r\n1. **低通滤波原理**：\r\n   - EMI滤波器通常设计为低通滤波器（LPF），通过电感和电容的组合，允许低频信号（如直流电）通过，同时衰减高频信号（电磁干扰），使干扰信号无法通过。\r\n   - **电感**：具有高阻抗特性，使得快速变化的高频信号难以通过，从而抑制高频干扰。\r\n   - **电容**：提供对高频信号的低阻抗路径，将这些信号引导到地，而不影响正常的直流或低频信号。\r\n\r\n2. **共模和差模干扰处理**：\r\n   - **共模干扰**：这种干扰在两个导体上产生相同的电压。在EMI滤波器中，可以使用共模电感来同时处理这些干扰。\r\n   - **差模干扰**：这种干扰在导体之间存在差异。在电源输入或输出端口，可以使用差模滤波器来分离正常信号与噪声。\r\n\r\n3. **频率选择性**：\r\n   - EMI滤波器可以根据设计选择特定的截止频率，在此频率之上的干扰信号被有效衰减，而在此频率以下的正常信号则可以顺利通过。\r\n\r\n#### 3、EMI滤波器类型\r\n\r\n根据具体应用，常见的 EMI滤波器包括：\r\n\r\n1. **LC滤波器**：由电感和电容组合成的简单滤波器，可用于基本的电源抗干扰。\r\n2. **RLC滤波器**：在LC滤波器的基础上加入电阻，以增加阻抗并改善滤波特性。\r\n3. **共模滤波器**：专门设计用于处理共模干扰，通常用于数据线和信号线的保护。\r\n4. **差模滤波器**：专为处理差模干扰而设计，适用于电源和信号连接的场合。\r\n\r\n#### 4、结论\r\n\r\nEMI滤波电路在现代电子设备中至关重要，通过有效地过滤和抑制电磁干扰，能够确保设备的正常运行和稳定性。设计时需综合考虑电路的工作频率、特性需求和预期的干扰类型，以选择合适的组件和设计方案。如果对某个具体应用的 EMI 滤波设计有疑问，欢迎进一步询问！\r\n\r\n### 3、EMI滤波产品\r\n- 电源滤波器\r\n- 滤波插座\r\n- 滤波开关\r\n- 滤波开关电源\r\n\r\n## 二、整流、滤波\r\n整流是将交流电转变为直流电的基本过程，涉及到的器件主要是二极管。根据使用的二极管数量，整流可以分为半波整流和全波整流。整流后通常需要进一步的滤波处理，以降低输出纹波。在现代电子设备中，整流技术是数以万计的应用的一部分。\r\n\r\n滤波是将信号从一种频率范围或幅度范围内转换到另一种频率范围或幅度范围的电路。在开关电源中，滤波器的作用是降低输出纹波和噪声，并确保输出电压和电流的稳定性和一致性。\r\n\r\n## 三、电压调制"
  },
  {
    "slug": "手动设置代理",
    "title": "手动设置代理",
    "description": "Git、npm、pnpm、Python等工具的代理配置方法",
    "date": "2024-10-15",
    "tags": [
      "代理",
      "配置",
      "工具"
    ],
    "content": "\r\n# 手动设置代理\r\n首先，V2ray的代理端口是10809，所以需要设置代理的软件都需要设置10809端口。\r\n## 一、Git\r\n1、设置代理\r\n\r\n以管理员身份打开windows终端，运行下面命令：\r\n```bash\r\ngit config --global http.proxy http://127.0.0.1:10809\r\n\r\ngit config --global https.proxy https://127.0.0.1:10809\r\n```\r\n\r\n2、取消代理\r\n```bash\r\ngit config --global --unset http.proxy\r\n\r\ngit config --global --unset https.proxy\r\n```\r\n\r\n## 二、npm\r\n1、设置代理\r\n```bash\r\nnpm config set proxy=http://127.0.0.1:10809\r\n```\r\n2、取消代理\r\n```bash\r\nnpm config delete proxy\r\nnpm config delete https-proxy\r\n```\r\n3、镜像\r\n```bash\r\n# 设置镜像\r\nnpm config set registry https://registry.npmjs.org/\r\n\r\n# 取消镜像\r\nnpm config rm registry\r\n```\r\n\r\n## 三、pnpm\r\n1、设置代理\r\n```bash\r\nnpm config set proxy=http://127.0.0.1:10809\r\n```\r\n2、取消代理\r\n```bash\r\nnpm config delete proxy\r\nnpm config delete https-proxy\r\n```\r\n\r\n3、镜像\r\n```bash\r\n# 设置镜像\r\nnpm config set registry https://registry.npmjs.org/\r\n\r\n# 取消镜像\r\nnpm config rm registry\r\n```\r\n\r\n## 四、Python\r\n在 Windows 上设置 `pip` 代理可以通过以下几种方法实现。你可以选择在命令行中临时设置代理，或者在配置文件中永久设置代理。\r\n\r\n### 方法 1：临时设置代理\r\n\r\n在命令行中使用 `pip` 时，可以通过 `--proxy` 参数临时设置代理。例如：\r\n\r\n```bash\r\npip install <package-name> --proxy <http://username:password@proxy-server>:port\r\n\r\n```\r\n\r\n- `username` 和 `password` 是你的代理认证信息（如果需要）。\r\n- `proxy-server` 是你的代理服务器地址。\r\n- `port` 是代理服务器的端口号。\r\n\r\n### 方法 2：永久设置代理\r\n\r\n如果你希望每次使用 `pip` 时都自动使用代理，可以通过配置文件进行设置。\r\n\r\n1. **找到或创建配置文件**：\r\n    - 在你的用户目录下，找到或创建一个名为 `pip` 的文件夹。\r\n    - 在该文件夹中，创建一个名为 `pip.ini` 的文件（如果你使用的是 Windows，文件名为 `pip.ini`；如果是 Unix/Linux，文件名为 `pip.conf`）。\r\n    \r\n    文件路径通常为：\r\n    \r\n    ```\r\n    C:\\\\Users\\\\<YourUsername>\\\\pip\\\\pip.ini\r\n    ```\r\n    \r\n2. **编辑 `pip.ini` 文件**：\r\n在 `pip.ini` 文件中添加以下内容：\r\n    \r\n    ```\r\n    [global]\r\n    proxy = <http://username:password@proxy-server>:port\r\n    ```\r\n    \r\n    例如：\r\n    \r\n    ```\r\n    [global]\r\n    proxy = <http://user:pass@192.168.1.1:8080>\r\n    ```\r\n    \r\n3. **保存文件**：\r\n保存并关闭 `pip.ini` 文件。\r\n\r\n### 方法 3：使用环境变量\r\n\r\n你也可以通过设置环境变量来配置 `pip` 代理：\r\n\r\n1. **打开环境变量设置**：\r\n    - 右键点击“此电脑”或“我的电脑”，选择“属性”。\r\n    - 点击“高级系统设置”。\r\n    - 在“系统属性”窗口中，点击“环境变量”。\r\n2. **添加环境变量**：\r\n    - 在“用户变量”或“系统变量”中，点击“新建”。\r\n    - 输入变量名为 `HTTP_PROXY` 和 `HTTPS_PROXY`，变量值为你的代理地址，例如：\r\n        \r\n        ```\r\n        <http://username:password@proxy-server>:port\r\n        ```\r\n        \r\n3. **保存并关闭**：\r\n保存设置并关闭所有窗口。\r\n\r\n### 验证设置\r\n\r\n你可以通过运行以下命令来验证 `pip` 是否能够通过代理成功安装包：\r\n\r\n```bash\r\npip install requests\r\n\r\n```\r\n\r\n如果设置正确，`pip` 应该能够通过代理连接并下载所需的包。\r\n"
  },
  {
    "slug": "树莓派配置软路由OpenWRT教程",
    "title": "树莓派配置软路由OpenWRT教程",
    "description": "使用树莓派和Docker搭建OpenWRT软路由系统",
    "date": "2024-08-20",
    "tags": [
      "树莓派",
      "OpenWRT",
      "软路由"
    ],
    "content": "\r\n# 树莓派配置软路由OpenWRT教程\r\n\r\n# 一、树莓派安装ubuntu系统\r\n![](https://picgo.dalualex.com/Untitled.png)\r\n\r\n# 二、安装Docker\r\n`sudo apt install docker.io`\r\n\r\n# 三、安装OpenWRT\r\n## 1、开启网卡混杂模式\r\n\r\n`sudo ip link set eth0 promisc on`\r\n\r\n注意，上述指令在树莓派重启时会失效，需要将其添加到启动参数中，步骤如下：\r\n\r\n一、首先需要新建一个/etc/rc.local并添加可执行权限\r\n\r\n```\r\nsudo touch /etc/rc.local\r\nsudo chmod +x /etc/rc.local\r\n```\r\n\r\n 内容如下：\r\n\r\n```bash\r\n#!/bin/sh -e\r\n## rc.local## This script is executed at the end of each multiuser runlevel.# Make sure that the script will \"exit 0\" on success or any other# value on error.## In order to enable or disable this script just change the execution# bits.## By default this script does nothing.\r\n\r\nip link set eth0 promisc on\r\nexit0\r\n```\r\n\r\n二、添加systemd程序\r\n\r\n`sudo vim /etc/systemd/system/rc-local.service`\r\n\r\n内容如下：\r\n\r\n```\r\n[Unit]\r\n Description=/etc/rc.locru锅\r\n```\r\n\r\n三、启动systemd程序\r\n\r\n```\r\nsudo systemctl enable rc-local\r\nsudo systemctl start rc-local.service\r\nsudo systemctl status rc-local.service\r\n```\r\n\r\n然后重启树莓派，执行`ip addr`，如果内容包括`PROMISC`则表示上述操作成功!\r\n\r\n> 如果网卡没有开启，需要手动开启网卡，`ip link set eth0 down/up`\r\n\r\n![](https://picgo.dalualex.com/Untitled1.png)\r\n\r\n## 2、安装openwrt\r\n\r\n1、创建网络\r\n`docker network create -d macvlan --subnet=192.168.0.0/24 --gateway=192.168.0.1 -o parent=eth0 macnet`\r\n\r\n**subnet，gateway**需要根据树莓派所处的网段进行修改，使用`ip addr`命令，如果树莓派所处的网络在192.168.0.x网段内，则可以根据上述命令进行操作，如果在192.168.1.x网段内，则需要将192.168.0修改为192.168.1\r\n\r\n可以使用`docker network ls`查看建立的网络\r\n\r\n![](https://picgo.dalualex.com/Untitled2.png)\r\n\r\n2、启动容器\r\n`sudo docker run --restart always --name openwrt -d --network macnet --privileged registry.cn-shanghai.aliyuncs.com/suling/openwrt:rpi3 /sbin/init`\r\n\r\n![](https://picgo.dalualex.com/Untitled3.png)\r\n\r\n3、修改容器相关参数\r\n\r\n进入容器：\r\n`docker exec -it openwrt bash`\r\n\r\n编辑OpenWrt的网络配置文件\r\n`vim /etc/config/network`\r\n\r\n修改`lan`的相关内容\r\n\r\n```\r\nconfig interface 'lan'\r\n        option ifname 'eth0'\r\n        option proto 'static'\r\n        option netmask '255.255.255.0'\r\n        option ip6assign '60'\r\n        option ipaddr '192.168.0.199' #修改一个静态地址，可以通过这个地址访问到树莓派\r\n        option gateway '192.168.0.1' #软路由网关地址，修改为主路由器地址\r\n        option dns '192.168.0.1'     #软路由dns地址，修改为主路由器地址\r\n```\r\n\r\n需要重启网络\r\n`/etc/init.d/network restart`\r\n\r\n# 四、设置openwrt\r\n\r\n通过上述配置的ipaddr，访问树莓派控制页，用户名为：`root`，密码为：`password`\r\n\r\n![](https://picgo.dalualex.com/Untitled4.png)\r\n\r\n![](https://picgo.dalualex.com/Untitled5.png)\r\n\r\n# 五、路由器设置-将树莓派作为旁路由\r\n\r\n---\r\n\r\n## 1、主路由设置\r\n\r\n![](https://picgo.dalualex.com/Untitled6.png)\r\n\r\n这样设置后，连接到主路由的设备，会自动将设备的网关地址变为软路由的地址\r\n\r\n## 2、副路由设置\r\n\r\n![](https://picgo.dalualex.com/Untitled7.png)\r\n\r\n将副路由的网关地址设置为软路由地址，所有连接到副路由的设备信息流都通过软路由。"
  },
  {
    "slug": "选品逻辑",
    "title": "选品逻辑",
    "description": "电商选品的核心逻辑和方法论",
    "date": "2024-09-10",
    "tags": [
      "电商",
      "选品",
      "营销"
    ],
    "content": "\r\n# 选品逻辑\r\n\r\n## 一、销量\r\n- 日销售额/月销售额\r\n- 竞争环境\r\n  - 实际投产与保本投产差\r\n- 产品力\r\n  - 成本\r\n  - 创新\r\n  - 转化率是判断产品力的重要指标\r\n## 二、流量\r\n### 1、引流\r\n- 流量渠道\r\n  - 搜索\r\n  - 自媒体\r\n  - 联盟营销\r\n  - 社群\r\n  - 广告\r\n    - CPM：按展现付费\r\n    - CPC：按点击付费\r\n    - CPS：按成交付费\r\n### 2、点击\r\n- 点击率\r\n  - 提升点击率的方法\r\n    - 产品设计\r\n      - 优化加载速度\r\n      - 引导性设计\r\n      - 个性化推荐\r\n    - 营销策略\r\n      - 主图\r\n      - 主图价格\r\n### 3、转化\r\n- 转化率\r\n  - 提升转化率的方法\r\n    - 产品设计\r\n      - 用户体验\r\n      - 引导性设计\r\n      - 简化支付流程\r\n    - 营销策略\r\n      - 低价\r\n- 转化周期\r\n  - 客单价越高，转化周期越长，需要更多曝光\r\n### 4、留存\r\n- 产品设计\r\n  - 重复展现\r\n- 营销策略\r\n  - 电话邮件营销\r\n  - 关联推荐"
  }
]